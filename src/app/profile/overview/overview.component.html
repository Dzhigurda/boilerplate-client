<div class="content" *ngIf="user">
  <div class="grid">
    <div class="kpi kpi-view">
      <h1>Overview</h1>

      <div class="kpi-grid">
        <div class="total">
          <p>Total views</p>
          <h2>1203</h2>
          <p class="status">+ 14.42%</p>
        </div>
        <div class="total-earning">
          <p>Total earning</p>
          <h2>20</h2>
          <p class="status">+ 4.12%</p>
        </div>

        <div class="total-fee">
          <p>Total fee</p>
          <h2>1203</h2>
          <p class="status">+ 14.42%</p>
        </div>
        <div class="total-fee-earning">
          <p>Total earning</p>
          <h2>20</h2>
          <p class="status">+ 4.12%</p>
        </div>
      </div>
    </div>
    <div class="history kpi-view">
      <h1>Viewing</h1>

      <tui-axes class="axes" [axisXLabels]="labelsX" [axisYLabels]="labelsY">
        <tui-bar-chart [max]="10000" [value]="value"></tui-bar-chart>
      </tui-axes>

      <div class="legend">
        <tui-legend-item
          *ngFor="let label of labels; let index = index"
          size="s"
          class="item"
          [color]="getColor(index)"
          [text]="label"
          [active]="isItemActive(index)"
          (click)="onHover(index, $event)"
        >
          {{ value[index][value[index].length - 1] }}
        </tui-legend-item>
      </div>
    </div>
    <div class="table kpi-view">
      <tui-accordion class="container" [rounded]="false">
        <tui-accordion-item borders="top-bottom" [showArrow]="false">
          <div class="operation-header">
            <div class="operation-date">
              4
              <div class="operation-month">May</div>
            </div>
            <div class="operation-pic">
              <tui-svg class="operation-icon" src="/assets/rubl.svg"></tui-svg>
            </div>
            <div class="operation-title">Get your money</div>
            <div class="operation-info">
              <tui-money class="operation-amount" [value]="23000"></tui-money>
              <div class="operation-status">Waiting for approve</div>
            </div>
          </div>
          <ng-template tuiAccordionItemContent>
            <h3 class="form-title">Payment form</h3>
            <form class="operation-form" [formGroup]="testForm">
              <tui-input
                tuiTextfieldExampleText="Roman Sedov"
                formControlName="name"
                class="input"
              >
                Your name
              </tui-input>
              <tui-select formControlName="accounts" class="input">
                Choose an account
                <tui-data-list-wrapper
                  *tuiDataList
                  [items]="accounts"
                ></tui-data-list-wrapper>
              </tui-select>
              <div class="buttons">
                <button
                  tuiButton
                  type="submit"
                  size="l"
                  class="tui-space_right-2"
                >
                  Send
                </button>
                <button tuiButton type="button" appearance="flat" size="l">
                  Cancel
                </button>
              </div>
            </form>
          </ng-template>
        </tui-accordion-item>
        <tui-accordion-item borders="top-bottom" [showArrow]="false">
          <div class="operation-header">
            <div class="operation-date">
              5
              <div class="operation-month">May</div>
            </div>
            <div class="operation-pic">
              <tui-svg class="operation-icon" src="/assets/rubl.svg"></tui-svg>
            </div>
            <div class="operation-title">Get your money back</div>
            <div class="operation-info">
              <tui-money class="operation-amount" [value]="23000"></tui-money>
              <div class="operation-status operation-status_success">
                Approved
              </div>
            </div>
          </div>
          <ng-template tuiAccordionItemContent>
            <h3 class="form-title">Payment form</h3>
            <form class="operation-form" [formGroup]="testForm">
              <tui-input
                tuiTextfieldExampleText="Roman Sedov"
                formControlName="name"
                class="input"
              >
                Your name
              </tui-input>
              <tui-select formControlName="accounts" class="input">
                Choose an account
                <tui-data-list-wrapper
                  *tuiDataList
                  [items]="accounts"
                ></tui-data-list-wrapper>
              </tui-select>
              <div class="buttons">
                <button
                  tuiButton
                  type="submit"
                  size="l"
                  class="tui-space_right-2"
                >
                  Send
                </button>
                <button tuiButton type="button" appearance="flat" size="l">
                  Cancel
                </button>
              </div>
            </form>
          </ng-template>
        </tui-accordion-item>
        <tui-accordion-item borders="top-bottom" [showArrow]="false">
          <div class="operation-header">
            <div class="operation-date">
              6
              <div class="operation-month">May</div>
            </div>
            <div class="operation-pic">
              <tui-svg class="operation-icon" src="/assets/rubl.svg"></tui-svg>
            </div>
            <div class="operation-title">Get your neighbor's money</div>
            <div class="operation-info">
              <tui-money class="operation-amount" [value]="23000"></tui-money>
              <div class="operation-status operation-status_error">
                Declined
              </div>
            </div>
          </div>
          <ng-template tuiAccordionItemContent>
            <h3 class="form-title">Payment form</h3>
            <form class="operation-form" [formGroup]="testForm">
              <tui-input
                tuiTextfieldExampleText="Roman Sedov"
                formControlName="name"
                class="input"
              >
                Your name
              </tui-input>
              <tui-select formControlName="accounts" class="input">
                Choose an account
                <tui-data-list-wrapper
                  *tuiDataList
                  [items]="accounts"
                ></tui-data-list-wrapper>
              </tui-select>
              <div class="buttons">
                <button
                  tuiButton
                  type="submit"
                  size="l"
                  class="tui-space_right-2"
                >
                  Send
                </button>
                <button tuiButton type="button" appearance="flat" size="l">
                  Cancel
                </button>
              </div>
            </form>
          </ng-template>
        </tui-accordion-item>
      </tui-accordion>
    </div>
  </div>
</div>
